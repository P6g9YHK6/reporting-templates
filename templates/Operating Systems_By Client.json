{
  "base_template": null,
  "template": {
    "name": "Operating Systems_By Client",
    "template_css": "",
    "template_md": "<!doctype html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n  <title>Operating Systems</title>\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\"\r\n    integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\" crossorigin=\"anonymous\">\r\n</head>\r\n\r\n<body>\r\n  <h1>Operating Systems</h1>\r\n  <br>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-4\"></div>\r\n    <div class=\"col-sm-2\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <center>\r\n            <p class=\"card-title\">Windows 10</p>\r\n            <h3 class=\"card-text\">{{data_sources.win10agents}}</h3>\r\n          </center>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-2\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <center>\r\n            <p class=\"card-title\">Windows 10</p>\r\n            <h3 class=\"card-text\">{{data_sources.win11agents}}</h3>\r\n          </center>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-4\"></div>\r\n  </div>\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Agent</th>\r\n          <th scope=\"col\">User</th>\r\n          <th scope=\"col\">Operating System</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {% for item in data_sources.agents|sort(attribute='operating_system') %}\r\n        <tr>\r\n          <td scope=\"row\" class=\"table-nowrap\">{{item.hostname if item.hostname else 'N/A'}}</td>\r\n          <td class=\"table-nowrap\">{{item.last_logged_in_user if item.last_logged_in_user else 'N/A'}}</td>\r\n          <td class=\"table-nowrap\">{{item.operating_system|replace(\",\", \"\") if item.operating_system else 'N/A'}}</td>\r\n        </tr>\r\n        {%endfor%}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</body>\r\n\r\n</html>",
    "type": "html",
    "depends_on": [
      "client"
    ],
    "template_variables": "data_sources:\n  agents:\n    filter:\n      site__client_id: \"{{client.id}}\"\n    model: agent\n    only:\n      - hostname\n      - last_logged_in_user\n      - operating_system\n      - needs_reboot\n  win10agents:\n    filter:\n      site__client_id: 1\n      operating_system__icontains: \"Windows 10\"\n    count: true\n    model: agent\n    only:\n      - hostname\n      - last_logged_in_user\n      - operating_system\n      - needs_reboot\n  win11agents:\n    filter:\n      site__client_id: 1\n      operating_system__icontains: \"Windows 11\"\n    count: true\n    model: agent\n    only:\n      - hostname\n      - last_logged_in_user\n      - operating_system\n      - needs_reboot"
  },
  "assets": []
}